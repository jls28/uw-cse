Valgrind complains with an input of 100 with

==8824== Invalid write of size 1
==8824==    at 0x40061B: main (evil.c:7)
==8824==  Address 0x4c300a4 is 0 bytes after a block of size 100 alloc'd
==8824==    at 0x4A0645D: malloc (in /usr/lib64/valgrind/vgpreload_memcheck-amd64-linux.so)
==8824==    by 0x4005FB: main (evil.c:5)

but has no complaints with an input of 500...
It seems as if valgrind knows when you try to address something that's just on the border,
eg you access one index passed the end of the 100 one.
My guess is that when it sets the 500 one, the address is actually in the middle of the
malloced 1000 block, and valgrind can't help you if you're in the middle of another block
on the heap.