<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0069)http://courses.cs.washington.edu/courses/cse331/14au/hws/hw9/hw9.html -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"><script type="text/javascript">window["_gaUserPrefs"] = { ioo : function() { return true; } }</script><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   
   <title>CSE 331 Homework 9: Campus Paths GUI</title>
   <link rel="StyleSheet" href="http://courses.cs.washington.edu/courses/cse331/14au/hws/hw9/stylesheet.css">
<style type="text/css"></style></head>
<body>
<div id="header">
<div class="course">CSE 331 Software Design and Implementation</div>
<h1><!-- omit from toc -->
<span class="head">Homework 9</span>
<span class="title">Campus Paths GUI</span>
</h1>
<h2><!-- omit from toc -->
<span class="head">Due:</span>
<span class="due">Thursday, December 4, 2014 <b>11:00PM</b></span>
</h2>
</div>

<p>Contents:</p>
<!-- start toc.  do not edit; run html-update-toc instead -->
    <ul>
      <li><a href="http://courses.cs.washington.edu/courses/cse331/14au/hws/hw9/hw9.html#Introduction">Introduction</a></li>
      <li><a href="http://courses.cs.washington.edu/courses/cse331/14au/hws/hw9/hw9.html#Requirements">GUI Requirements</a>
        <ul>
          <li><a href="http://courses.cs.washington.edu/courses/cse331/14au/hws/hw9/hw9.html#Screen-Resolution">Window size</a></li>
          <li><a href="http://courses.cs.washington.edu/courses/cse331/14au/hws/hw9/hw9.html#Required-Features">Required features</a></li>
          <li><a href="http://courses.cs.washington.edu/courses/cse331/14au/hws/hw9/hw9.html#Swing-Widgets">Swing widgets and GUI builders</a></li>
          <li><a href="http://courses.cs.washington.edu/courses/cse331/14au/hws/hw9/hw9.html#Launching-GUI">Launching your GUI</a></li>
        </ul></li>
      <li><a href="http://courses.cs.washington.edu/courses/cse331/14au/hws/hw9/hw9.html#Additional-Features">Optional Extra Features</a></li>
      <li><a href="http://courses.cs.washington.edu/courses/cse331/14au/hws/hw9/hw9.html#Hints">Hints</a>
        <ul>
          <li><a href="http://courses.cs.washington.edu/courses/cse331/14au/hws/hw9/hw9.html#General-Advice">General GUI Advice</a></li>
          <li><a href="http://courses.cs.washington.edu/courses/cse331/14au/hws/hw9/hw9.html#Using-Swing">Programming With Swing</a></li>
          <li><a href="http://courses.cs.washington.edu/courses/cse331/14au/hws/hw9/hw9.html#Other">Other</a></li>
        </ul></li>
      <li><a href="http://courses.cs.washington.edu/courses/cse331/14au/hws/hw9/hw9.html#Turnin">What to Turn In</a></li>
    </ul>
<!-- end toc -->

<h2 id="Introduction">Introduction</h2>

<p>
In the previous assignment, UW Marketing commissioned you to
write a route finder tool. Marketing is pleased with your initial results, but
now they've asked for a graphical user interface (GUI) that visually draws
routes on a map.
</p>

<p>
You will build your GUI using Java's Swing and Abstract Windowing
Toolkit (AWT) libraries. You will get practice using Swing,
event-driven programming, and the model-view-controller (MVC) design
pattern.
</p>

<p>
When you're done, you can share your finished work with family and
friends by following
the <a href="http://courses.cs.washington.edu/courses/cse331/14au/hws/hw9/how-to-create-a-jar.html">instructions for creating a JAR
file</a>.
</p>

<p>
You are expected to fix any bugs from Homework 8 that affect the
correctness or performance of your application in Homework 9. However,
you are
<em>not</em> required to fix code quality/organization
issues in your Homework 8 code. Your Homework 9 code should be
well-written and well-organized, but we will not double-count for
MVC-related style issues caused by design choices from Homework 8.
</p>

<h2 id="Requirements">GUI Requirements</h2>

<p>
You will write a GUI and a main class to launch it
named <tt>CampusPathsMain.java</tt>. This assignment is deliberately open-ended:
the exact appearance and functionality of your GUI are up to you. The only
requirements are documented below.
</p>

<p>
For the most part, we are not grading on aesthetics: it doesn't matter
whether your GUI looks pretty as long as it implements the required
features. Nevertheless, a design which is genuinely confusing or hard
to use (at our discretion) will not receive full credit. For example,
we will deduct points if we can't easily figure out how to select the
two buildings, if it's hard to see the selected path, or if we can
only see the whole GUI on your 27-inch monitor. In addition, your
program should be generally responsive: for instance, the GUI should
not take an unusually long time to find and display paths.
</p>

<p>
Your GUI is a new View and Controller for your CampusPaths application.
Ideally, you should not have to make any changes to your Homework 8
model classes â€” they already implement all the Model functionality
that you need.  If you have to make any small changes (for instance, if
your design in Homework 8 was poor and some model methods were too closely tied to
your text view), then you may do so.  As always, all tests from previous
homeworks must continue to pass, so you may also need to change your
Homework 8 View and Controller in that case.  In file
<tt>hw9/model-changes.txt</tt>, list any changes you made to the model.
For each, write a 1-2 sentence explanation of why the change was necessary
and what you could have done differently on Homework 8 to create a more general
and reusable Model. If you make no changes this file should just contain
"None".
</p>

<h3 id="Screen-Resolution">Window size</h3>
<p>At startup, your GUI must fit and be usable on a screen with a
minimum of 1024 x 768 resolution.  (You may wish to support resizing
the window, but doing so is not required.) Most computers provide a
way to change the screen resolution, which you can use for testing.</p>

<h3 id="Required-Features">Required features</h3>
<p>At a minimum, your GUI must provide the following features:</p>
<ul>
	<li>Load the map data
	from <tt>src/hw8/data/campus_buildings.dat</tt>
	and <tt>src/hw8/data/campus_paths.dat</tt> on startup. (This
	should be in your model, not your view. We use the folders from
  hw8 so there's no need to duplicate the files.)</li>
	<li>Display the map of campus provided
	in <tt>src/hw8/data/campus_map.jpg</tt>.</li>
	<li>Allow the user to select two buildings for finding a route.
	You might use free-text entry, dropdown menus, selection with the
	mouse, or some other approach.</li>
	<li>Mark the selected buildings on the map.</li>
	<li>Draw the shortest route between the selected buildings on the
	  map. Ideally the map should automatically be zoomed in or out when a route
	  is drawn, so that the route is almost as large as possible while still
	  fitting in the window, but this is not required.</li>
	<li>Allow the user to reset the GUI by clicking a reset
	button. This button should clear all markings on the map and all
	other controls (such as building selectors), setting the GUI back to its
	initial state.</li>
	<li>Operate robustly: No matter what the user does, your program should
	never allow an exception message to bubble up to the console window, and
	your GUI should never crash or reach a buggy/invalid state.</li>
</ul>

<h3 id="Swing-Widgets">Swing widgets and GUI builders</h3>

<p>
Use only components from the
<a href="http://docs.oracle.com/javase/tutorial/uiswing/">Swing</a>
widget set for this assignment.  You are also allowed to use components
from
<a href="http://docs.oracle.com/javase/7/docs/technotes/guides/awt/">AWT</a>, on
which Swing is built, but try to stick to Swing when possible.
</p>

<p>
Some IDEs, such as NetBeans, will let you specify the appearance and behavior of
your GUI and automatically generate the code for you. You may not use these
tools; you must write your GUI from scratch in Java.
</p>

<h3 id="Launching-GUI">Launching your GUI</h3>
<p>
Because you probably didn't write automated unit tests for your GUI,
<tt>ant</tt> won't be useful for this assignment. Instead,
you can manually launch your GUI from the command line by running the
following commands:
</p>
<pre>  cd <i>[PathToYourCse331Project]</i>/cse331/src/hw9
  ant build
  cd ../..
  java -cp bin hw9.CampusPathsMain
</pre>

<p>Those are the commands we will run when grading your program.</p>

<p>If you log into attu via ssh, but when you try to run your GUI on
attu you get a message similar to</p>

<pre>Exception in thread "AWT-EventQueue-0" java.awt.HeadlessException:
No X11 DISPLAY variable was set, but this program performed an operation which requires it.
</pre>

<p>then you need to enable X11 forwarding for your ssh
session. If you are are using Linux, this can be done using the
<tt>-X</tt> switch when starting ssh:</p>

<pre>ssh -X <em>YourUserName</em>@attu.cs.washington.edu
</pre>

<p>
If you normally use Windows, the most straightforward option is simply to log
onto one of the Linux workstations in the basement labs to test your program (from these machines use <tt>ssh -X</tt> to connect to attu.  Alternatively, you can
obtain special software to enable X11 forwarding on Windows. One free option is
<a href="http://www.straightrunning.com/XmingNotes/">Xming</a> used with 
<a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html">PuTTY</a>. After
installing Xming, launch PuTTY, select "Enable X11 forwarding" under Connection
&gt;&gt; SSH &gt;&gt; X11, and log in as normal. Please note that the course staff many not be able to provide complete support for enabling X11 on Windows.
</p>

<h2 id="Additional-Features">Optional Extra Features</h2>
<p>
We encourage you to get creative with both the appearance and functionality of
your GUI! If you do, <strong> make sure to get a basic GUI working and commit it
to your repository</strong> before experimenting. Swing can be finicky, and
seemingly simple UI improvements often become big time sinks. If you've
committed your working solution, you can always "roll back" to that revision
later.
</p>

<p>
Here are a few ideas for additional features:
</p>
<ul>
	<li>As the window is resized, make the map shrink or grow to fit the
	window.</li>
	<li>Maintain the proportions of the map so that it zooms in on a route
	without becoming distorted.</li>
	<li>Place the map in a <code>ScrollPane</code> so it can be displayed
	full-size. When displaying a route or buildings, jump to that spot on the
	map and resize if needed. (Hint: you probably need to
	override <code>getPreferredSize()</code> in your "canvas" class for
	scrolling to work.)</li>
	<li>Allow the user to select the endpoints of a path by clicking the mouse
	on the map.</li>
	<li>Allow the user to drag the map with the mouse to change the portion that
	is shown.</li>
	<li>Add zoom buttons, possibly with a way to recenter the image for zooming
	if a hand is not available to drag it (e.g., mouse double click).</li>
</ul>

<p>
  List any additional features you implemented, if any,
  in <tt>hw9/extra.txt</tt>.  You must commit a <tt>hw9/extra.txt</tt> file,
  even if it simply contains "None".  Additional features must not mask or
  replace any of the <a href="http://courses.cs.washington.edu/courses/cse331/14au/hws/hw9/hw9.html#Required-Features"> required
  features</a>.
</p>

<p>
  <em>Small</em> amounts of extra credit may be awarded for
  interesting or useful functionality that shows considerable
  effort. Extra credit will not be awarded for pure "eye candy," such
  as changing the font and color of buttons or adding a border. Extra
  credit will be applied to final course grades after determining
  initial course grades; thus, it will not lower your grade if you
  choose not to work on optional features, but may raise your grade
  slightly if you do.
</p>

<p>
  Writing automated tests for GUIs is difficult and usually involves special
  frameworks that are beyond the scope of this course. For this reason, you are
  not required to write unit tests or a test driver. We will test your solution
  by running your main program.
</p>

<!--<p>
  We'd like to demonstrate some of the more interesting projects and GUIs on
  the last day of class. If you would like your project to be considered,
  please email
  <a href="mailto:cse331-staff@cs.washington.edu">cse331-staff@cs.washington.edu</a>
  by 11pm Wednesday December 4th (the non-late-day deadline). In your email, 
  state your CSENetID and whether you prefer to be anonymous or credited.
</p>-->

<h2 id="Hints">Hints</h2>

<h3 id="General-Advice">General GUI Advice</h3>

<p>If you've never used Swing, it is well worth your time to do some
tutorials, read the example code, and generally get comfortable with
GUI programming before diving into the assignment. Take it
from your peers: in the past, many students who choose the latter
approach have reported to us afterward that they wish they had chosen
the former.</p>

<p>Abstraction functions, representation invariants, and <tt>checkRep()</tt> are not
required for GUI classes because they generally do not represent ADTs.</p>

<p>User testing is a great way to verify that your interface is as easy to use
as you think it is. Show your GUI to your friend/roommate/sibling.  Can they
can figure out how to use it without directions from you?  <!--Also remember the
design principles and guidelines for user testing from 
<a href="../../lectures/12-usability.pdf">the lecture on Usability</a>.--></p>

<p>As usual, remember to practice good procedural decomposition among
other best practices for style. In particular, your GUI constructor
and <tt>paintComponent</tt> will probably be long enough that they
should be broken into helper methods.</p>

<h3 id="Using-Swing">Programming With Swing</h3>

<p>In addition to the lecture slides and demos,
Oracle's <a href="http://docs.oracle.com/javase/tutorial/uiswing/">Swing</a>
and <a href="http://docs.oracle.com/javase/tutorial/2d/index.html">2-D
Graphics</a> tutorials are a useful resource. Also remember
to use the
<a href="http://docs.oracle.com/javase/7/docs/api/index.html?overview-summary.html">Java
API</a>, particularly 
the <a href="http://docs.oracle.com/javase/7/docs/api/javax/swing/package-summary.html"><tt>javax.swing</tt></a>
and <a href="http://docs.oracle.com/javase/7/docs/api/java/awt/package-summary.html"><tt>java.awt</tt></a>
packages, to see what classes and methods are available and how to use them.
</p>

<p>To display the map and routes, you will want to write a custom component and
override
<tt>paintComponent()</tt>.  You will
use <a href="http://docs.oracle.com/javase/7/docs/api/java/awt/Graphics.html"><tt>Graphics</tt></a>
and/or <a href="http://docs.oracle.com/javase/7/docs/api/java/awt/Graphics2D.html"><tt>Graphics2D</tt></a>
to do the rendering, as we saw in lecture.</p>

<p>If you have trouble getting things to display at the correct size, make sure
you have remembered to call <tt>pack()</tt> before setting your frame to be
visible.</p>

<h3 id="Other">Other</h3>
<p>As usual, your program should look for files using relative
  filenames starting with <tt>src</tt>.</p>

<h2 id="Turnin">What to Turn In</h2>

<p>You should add and commit the following files to SVN:</p>

<ul>
  <li><tt>hw9/CampusPathsMain.java</tt></li>
  <li><tt>hw9/*.java</tt> <em>[your GUI classes]</em></li>
  <li><tt>hw9/answers/model-changes.txt</tt> <em>[list of changes to HW8.  The file may simply contain "None".]</em></li>
  <li><tt>hw9/answers/extra.txt</tt> <em>[list of optional features you implemented.  The file may simply contain "None".]</em></li>
</ul>

<p>Additionally, be sure to commit any updates you make to your Homework 8
files.</p>

<p>Finally, remember to run <tt>ant validate</tt> to verify that you have
submitted all files and that your code compiles and runs correctly when compiled
with <tt>javac</tt> on attu (which sometimes behaves differently from the
Eclipse compiler).</p>

<div id="footer">
<p>For problems or questions regarding this page, contact:
<a href="mailto:cse331-staff@cs.washington.edu">cse331-staff@cs.washington.edu</a>.</p>
</div>




<!--  LocalWords:  img 1px 11pm H7 Returnin ADT MVC hw7 dat tsv jpg java 1px
 -->
<!--  LocalWords:  MarvelParser shortName longName x1 y1 x2 y2 distance12 11pm
 -->
<!--  LocalWords:  x3 y3 distance13 txt hw8 oversized println TODO xxx yyy
 -->
<!--  LocalWords:  prepended atan2 stdin stdout returnin returnin331 hw4
 -->
<!--  LocalWords:  hw5 attu 1px 11pm cse331 src HW8TestDriver runTests IMs
 -->
<!--  LocalWords:  ScriptFileTests ImplementationTests getAbsoluteFilename
 -->
<!--  LocalWords:  HW5TestDriver HW6TestDriver xml 11pm H8 AWT dropdown
 -->
<!--  LocalWords:  CampusPathsMain CampusPaths hw9 CampusPathsExample GUIs
 -->
<!--  LocalWords:  javax awt paintComponent Graphics2D
 -->
</body></html>